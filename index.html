<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tramway PWA - Observations</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2c5aa0;
            --secondary-color: #f39200;
            --danger-color: #d9534f;
            --success-color: #5cb85c;
            --light-bg: #f5f5f5;
            --dark-text: #333;
            --border-color: #ddd;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light-bg);
            color: var(--dark-text);
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        header h1 {
            margin-bottom: 10px;
            font-size: 28px;
        }

        #status {
            padding: 10px 20px;
            border-radius: 4px;
            margin: 10px 0;
            font-weight: bold;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .status-bar {
            text-align: center;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            font-weight: bold;
        }

        .status-online {
            background-color: var(--success-color);
            color: white;
        }

        .status-offline {
            background-color: #f0ad4e;
            color: white;
        }

        .toolbar {
            background: white;
            padding: 20px;
            margin: 10px;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        button {
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #1e3f5a;
            transform: translateY(-2px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background-color: var(--secondary-color);
            color: white;
        }

        .btn-secondary:hover {
            background-color: #d67f0d;
        }

        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background-color: #c9302c;
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

        .btn-success:hover {
            background-color: #4cae4c;
        }

        .btn-warning {
            background-color: #f0ad4e;
            color: white;
        }

        .btn-warning:hover {
            background-color: #ec971f;
        }

        #message {
            margin: 10px;
            padding: 15px;
            border-radius: 4px;
            display: none;
            text-align: center;
            font-weight: bold;
        }

        .message-info {
            background-color: #d9edf7;
            color: #31708f;
            border: 1px solid #bce8f1;
        }

        .message-success {
            background-color: #dff0d8;
            color: #3c763d;
            border: 1px solid #d6e9c6;
        }

        .message-error {
            background-color: #f2dede;
            color: #a94442;
            border: 1px solid #ebccd1;
        }

        #observations-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px;
            background: white;
            margin: 10px;
            border-radius: 4px;
            min-height: 200px;
        }

        .observation-card {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .observation-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            border-color: var(--primary-color);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
        }

        .card-title {
            font-size: 18px;
            font-weight: bold;
            color: var(--primary-color);
            flex: 1;
        }

        .card-sync {
            font-size: 24px;
        }

        .card-meta {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 14px;
            color: #666;
        }

        .card-actions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .btn-small {
            padding: 6px 10px;
            font-size: 12px;
            flex: 1;
            min-width: 80px;
        }

        .empty-message {
            text-align: center;
            padding: 40px 20px;
            color: #999;
            font-size: 16px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.4);
            overflow-y: auto;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 20px auto;
            padding: 30px;
            border: 1px solid #888;
            border-radius: 8px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
        }

        .modal-header h2 {
            color: var(--primary-color);
            flex: 1;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: black;
        }

        .form-section {
            margin-bottom: 30px;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 4px;
            border-left: 4px solid var(--primary-color);
        }

        .form-section h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 18px;
        }

        .form-section h4 {
            color: var(--secondary-color);
            margin-top: 15px;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 5px;
            font-weight: 500;
            color: #333;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 5px rgba(44, 90, 160, 0.3);
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .checkbox-item input[type="checkbox"] {
            cursor: pointer;
            width: 16px;
            height: 16px;
        }

        .checkbox-item label {
            margin: 0;
            cursor: pointer;
        }

        .checkbox-with-detail {
            display: grid;
            grid-template-columns: auto 1fr 2fr;
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
        }

        .checkbox-with-detail input[type="checkbox"] {
            cursor: pointer;
            width: 16px;
            height: 16px;
        }

        .checkbox-with-detail label {
            margin: 0;
            cursor: pointer;
        }

        .checkbox-with-detail input[type="text"] {
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: white;
        }

        table th {
            background-color: var(--primary-color);
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        table td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--border-color);
        }

        table tr:hover {
            background-color: #f9f9f9;
        }

        .counting-table input {
            width: 100%;
            padding: 6px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
        }

        .remove-row-btn {
            padding: 4px 8px;
            font-size: 12px;
            background-color: var(--danger-color);
            color: white;
        }

        .remove-row-btn:hover {
            background-color: #c9302c;
        }

        .add-row-btn {
            padding: 8px 12px;
            background-color: var(--success-color);
            color: white;
            margin-top: 10px;
        }

        .add-row-btn:hover {
            background-color: #4cae4c;
        }

        @media (max-width: 768px) {
            #observations-container {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .toolbar {
                flex-direction: column;
            }

            button {
                width: 100%;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>üöä Tramway PWA - Observatoire Urbain</h1>
        <p>Suivi des observations et interactions sociales</p>
    </header>

    <div id="status" class="status-bar status-offline">‚è≥ Initialisation en cours...</div>
    <div id="message"></div>

    <div class="toolbar">
        <button class="btn-primary" onclick="openNewObservationModal()">‚ûï Nouvelle Observation</button>
        <button class="btn-secondary" onclick="syncOne(currentEditId)">üîÑ Synchroniser</button>
        <button class="btn-secondary" onclick="importObservations()">üì• Importer JSON</button>
        <button class="btn-secondary" onclick="exportAll()">üì§ Exporter Tout</button>
    </div>

    <!-- ‚ú® √âL√âMENT MANQUANT AJOUT√â ‚ú® -->
    <div id="observations-container"></div>

    <!-- MODAL: Nouvelle Observation -->
    <div id="new-observation-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìã Nouvelle Observation</h2>
                <span class="close" onclick="closeNewObservationModal()">&times;</span>
            </div>

            <form id="observation-form" onsubmit="handleNewObservation(event)">
                <!-- CONTEXTE D'OBSERVATION -->
                <div class="form-section">
                    <h3>üìç CONTEXTE D'OBSERVATION</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Date *</label>
                            <input type="date" name="date" required>
                        </div>
                        <div class="form-group">
                            <label>Jour</label>
                            <select name="jour">
                                <option value="">S√©lectionner</option>
                                <option value="Lundi">Lundi</option>
                                <option value="Mardi">Mardi</option>
                                <option value="Mercredi">Mercredi</option>
                                <option value="Jeudi">Jeudi</option>
                                <option value="Vendredi">Vendredi</option>
                                <option value="Samedi">Samedi</option>
                                <option value="Dimanche">Dimanche</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Heure d√©but</label>
                            <input type="time" name="heure_debut">
                        </div>
                        <div class="form-group">
                            <label>Heure fin</label>
                            <input type="time" name="heure_fin">
                        </div>
                        <div class="form-group">
                            <label>Dur√©e totale (min)</label>
                            <input type="number" name="duree_totale" min="0">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Station/Tron√ßon</label>
                            <input type="text" name="lieu_station">
                        </div>
                        <div class="form-group">
                            <label>Quartier/Emplacement exact</label>
                            <input type="text" name="quartier">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>M√©t√©o</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" name="meteo" value="Ensoleill√©">
                                <label>Ensoleill√©</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="meteo" value="Nuageux">
                                <label>Nuageux</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="meteo" value="Pluie">
                                <label>Pluie</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="meteo" value="Vent">
                                <label>Vent</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Temp√©rature (¬∞C)</label>
                            <input type="number" name="temperature" min="-10" max="60">
                        </div>
                        <div class="form-group">
                            <label>Type d'observation</label>
                            <select name="type_observation">
                                <option value="">S√©lectionner</option>
                                <option value="Statique (poste fixe)">Statique (poste fixe)</option>
                                <option value="Mobile (parcours)">Mobile (parcours)</option>
                                <option value="Mixte">Mixte</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Type d'espace observ√© (TE)</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" name="type_espace" value="TE-S: Station de tramway">
                                <label>TE-S: Station</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="type_espace" value="TE-B: √Ä bord du tramway">
                                <label>TE-B: √Ä bord</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="type_espace" value="TE-A: Abords imm√©diats (<50m)">
                                <label>TE-A: Abords</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="type_espace" value="TE-P: Espace public connexe">
                                <label>TE-P: Public</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="type_espace" value="TE-C: Corridor/axe du tramway">
                                <label>TE-C: Corridor</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Intensit√© interactions</label>
                        <select name="intensite_interactions">
                            <option value="">S√©lectionner</option>
                            <option value="II-1: Faible (interactions isol√©es)">II-1: Faible</option>
                            <option value="II-2: Mod√©r√©e (interactions r√©guli√®res)">II-2: Mod√©r√©e</option>
                            <option value="II-3: Forte (espace tr√®s anim√©)">II-3: Forte</option>
                            <option value="II-4: Tr√®s forte (√©v√©nement/concentration)">II-4: Tr√®s forte</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Nature patrimoine (NP)</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" name="nature_patrimoine" value="NP-A: Architecture coloniale">
                                <label>NP-A: Coloniale</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="nature_patrimoine" value="NP-B: B√¢ti traditionnel">
                                <label>NP-B: Traditionnel</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="nature_patrimoine" value="NP-C: Architecture moderne/contemporaine">
                                <label>NP-C: Moderne</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="nature_patrimoine" value="NP-P: Patrimoine paysager">
                                <label>NP-P: Paysager</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="nature_patrimoine" value="NP-I: Patrimoine immat√©riel">
                                <label>NP-I: Immat√©riel</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="nature_patrimoine" value="NP-M: Patrimoine m√©moriel">
                                <label>NP-M: M√©moriel</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- DONN√âES QUANTITATIVES -->
                <div class="form-section">
                    <h3>üìä DONN√âES QUANTITATIVES</h3>
                    <h4>Comptage usagers</h4>
                    
                    <div class="form-group">
                        <table class="counting-table">
                            <thead>
                                <tr>
                                    <th>Horaire</th>
                                    <th>Mont√©es</th>
                                    <th>Descentes</th>
                                    <th>Attente</th>
                                    <th>Observations</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="comptage-table-new"></tbody>
                        </table>
                        <button type="button" class="add-row-btn" onclick="addComptageRowNew()">‚ûï Ajouter ligne</button>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Fr√©quence rames (min)</label>
                            <input type="number" name="frequence_intervalle" min="0">
                        </div>
                        <div class="form-group">
                            <label>Nombre rames</label>
                            <input type="number" name="nombre_rames" min="0">
                        </div>
                    </div>

                    <h4>Profil Usagers (%)</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Hommes</label>
                            <input type="number" name="profil_hommes" min="0" max="100">
                        </div>
                        <div class="form-group">
                            <label>Femmes</label>
                            <input type="number" name="profil_femmes" min="0" max="100">
                        </div>
                        <div class="form-group">
                            <label>Enfants</label>
                            <input type="number" name="profil_enfants" min="0" max="100">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Adolescents</label>
                            <input type="number" name="profil_adolescents" min="0" max="100">
                        </div>
                        <div class="form-group">
                            <label>Adultes</label>
                            <input type="number" name="profil_adultes" min="0" max="100">
                        </div>
                        <div class="form-group">
                            <label>√Çg√©s</label>
                            <input type="number" name="profil_ages" min="0" max="100">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>PMR (%)</label>
                        <input type="number" name="profil_pmr" min="0" max="100">
                    </div>

                    <h4>Comportements</h4>
                    <div class="checkbox-with-detail">
                        <input type="checkbox" name="comportement_telephone" value="oui">
                        <label>T√©l√©phone</label>
                        <input type="text" name="comportement_telephone_detail" placeholder="d√©tails">
                    </div>
                    <div class="checkbox-with-detail">
                        <input type="checkbox" name="comportement_lecture" value="oui">
                        <label>Lecture</label>
                        <input type="text" name="comportement_lecture_detail" placeholder="d√©tails">
                    </div>
                    <div class="checkbox-with-detail">
                        <input type="checkbox" name="comportement_conversations" value="oui">
                        <label>Conversations</label>
                        <input type="text" name="comportement_conversations_detail" placeholder="d√©tails">
                    </div>
                    <div class="checkbox-with-detail">
                        <input type="checkbox" name="comportement_attente_assise" value="oui">
                        <label>Attente assise</label>
                        <input type="text" name="comportement_attente_assise_detail" placeholder="d√©tails">
                    </div>
                    <div class="checkbox-with-detail">
                        <input type="checkbox" name="comportement_attente_debout" value="oui">
                        <label>Attente debout</label>
                        <input type="text" name="comportement_attente_debout_detail" placeholder="d√©tails">
                    </div>
                    <div class="checkbox-with-detail">
                        <input type="checkbox" name="comportement_regard_fenetre" value="oui">
                        <label>Regard fen√™tre</label>
                        <input type="text" name="comportement_regard_fenetre_detail" placeholder="d√©tails">
                    </div>
                    <div class="checkbox-with-detail">
                        <input type="checkbox" name="comportement_commerce" value="oui">
                        <label>Commerce informel</label>
                        <input type="text" name="comportement_commerce_detail" placeholder="d√©tails">
                    </div>
                    <div class="checkbox-with-detail">
                        <input type="checkbox" name="comportement_rassemblements" value="oui">
                        <label>Rassemblements</label>
                        <input type="text" name="comportement_rassemblements_detail" placeholder="d√©tails">
                    </div>
                </div>

                <!-- DONN√âES QUALITATIVES -->
                <div class="form-section">
                    <h3>üé® DONN√âES QUALITATIVES</h3>
                    <h4>Ambiances</h4>
                    
                    <div class="form-group">
                        <label>Ambiance sonore</label>
                        <select name="ambiance_sonore">
                            <option value="">S√©lectionner</option>
                            <option value="Silencieux">Silencieux</option>
                            <option value="Calme">Calme</option>
                            <option value="Anim√©">Anim√©</option>
                            <option value="Bruyant">Bruyant</option>
                            <option value="Tr√®s bruyant">Tr√®s bruyant</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Sons dominants</label>
                        <textarea name="sons_dominants" placeholder="D√©crire..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Ambiance visuelle</label>
                        <textarea name="ambiance_visuelle" placeholder="√âl√©ments marquants..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Ambiance olfactive</label>
                        <textarea name="ambiance_olfactive" placeholder="Odeurs..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Atmosph√®re g√©n√©rale</label>
                        <select name="atmosphere_generale">
                            <option value="">S√©lectionner</option>
                            <option value="Apais√©e">Apais√©e</option>
                            <option value="Tendue">Tendue</option>
                            <option value="Conviviale">Conviviale</option>
                            <option value="Anonyme">Anonyme</option>
                            <option value="Festive">Festive</option>
                        </select>
                    </div>

                    <h4>Interactions Sociales</h4>
                    <div class="form-group">
                        <label>Nature interactions</label>
                        <textarea name="nature_interactions" placeholder="D√©crire..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Groupes sociaux</label>
                        <textarea name="groupes_sociaux_identifies" placeholder="D√©crire..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Pratiques sociales</label>
                        <textarea name="pratiques_sociales" placeholder="D√©crire..."></textarea>
                    </div>

                    <h4>Perceptions</h4>
                    <div class="form-group">
                        <label>Conversations (verbatim)</label>
                        <textarea name="conversations_verbatim" placeholder='"..." "..."'></textarea>
                    </div>

                    <div class="form-group">
                        <label>Langues utilis√©es</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" name="langues_utilisees" value="Arabe dialectal">
                                <label>Arabe</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="langues_utilisees" value="Fran√ßais">
                                <label>Fran√ßais</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="langues_utilisees" value="Tamazight">
                                <label>Tamazight</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" name="langues_utilisees" value="Mixte">
                                <label>Mixte</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Th√©matiques √©voqu√©es</label>
                        <textarea name="thematiques_evoquees" placeholder="Sujets..."></textarea>
                    </div>

                    <h4>Patrimoine</h4>
                    <div class="form-group">
                        <label>√âl√©ments patrimoniaux</label>
                        <textarea name="elements_patrimoniaux" placeholder="D√©crire..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>√âtat conservation</label>
                        <select name="etat_conservation">
                            <option value="">S√©lectionner</option>
                            <option value="Excellent">Excellent</option>
                            <option value="Bon">Bon</option>
                            <option value="Moyen">Moyen</option>
                            <option value="D√©grad√©">D√©grad√©</option>
                            <option value="Ruine">Ruine</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Perception patrimoine</label>
                        <select name="perception_patrimoine">
                            <option value="">S√©lectionner</option>
                            <option value="Valoris√©">Valoris√©</option>
                            <option value="Ignor√©">Ignor√©</option>
                            <option value="D√©tourn√©">D√©tourn√©</option>
                            <option value="Appropri√©">Appropri√©</option>
                            <option value="Rejet√©">Rejet√©</option>
                        </select>
                    </div>
                </div>

                <!-- R√âFLEXIONS POST-OBSERVATION -->
                <div class="form-section">
                    <h3>üí≠ R√âFLEXIONS POST-OBSERVATION</h3>
                    <h4>Analyse √† Chaud</h4>

                    <div class="form-group">
                        <label>Impressions g√©n√©rales</label>
                        <textarea name="impressions_generales" placeholder="Vos impressions..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>√âl√©ments surprenants</label>
                        <textarea name="elements_surprenants" placeholder="Ce qui vous a surpris..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Tensions/conflits</label>
                        <textarea name="tensions_conflits" placeholder="Conflits not√©s..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Appropriations espace</label>
                        <textarea name="appropriations_espace" placeholder="Comment l'espace est utilis√©..."></textarea>
                    </div>

                    <h4>Hypoth√®ses √âmergentes</h4>
                    <div class="form-group">
                        <label>Hypoth√®se 1</label>
                        <textarea name="hypothese_1" placeholder="Premi√®re hypoth√®se..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Hypoth√®se 2</label>
                        <textarea name="hypothese_2" placeholder="Deuxi√®me hypoth√®se..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Hypoth√®se 3</label>
                        <textarea name="hypothese_3" placeholder="Troisi√®me hypoth√®se..."></textarea>
                    </div>
                </div>

                <!-- NOTES COMPL√âMENTAIRES -->
                <div class="form-section">
                    <h3>üìù NOTES COMPL√âMENTAIRES</h3>

                    <div class="form-group">
                        <label>Notes suppl√©mentaires</label>
                        <textarea name="notes_complementaires" placeholder="Informations additionnelles..." style="min-height: 100px;"></textarea>
                    </div>

                    <div class="form-group">
                        <label>Pistes prochaine observation</label>
                        <textarea name="pistes_prochaine" placeholder="√Ä observer la prochaine fois..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Questions m√©thodologiques</label>
                        <textarea name="questions_methodologiques" placeholder="Questions sur la m√©thode..."></textarea>
                    </div>
                </div>

                <button type="submit" class="btn-success" style="width: 100%; padding: 15px; margin-top: 20px;">üíæ Enregistrer l'Observation</button>
            </form>
        </div>
    </div>

    <!-- MODAL: D√©tails -->
    <div id="details-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìã D√©tails de l'observation</h2>
                <span class="close" onclick="closeDetailsModal()">&times;</span>
            </div>
            <div id="details-content"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>